<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var countAndSay = function(n) {
        let str = "1";
        for (let i = 2; i <= n; ++i) {
            const sb = [];
            let start = 0;
            let pos = 0;

            while (pos < str.length) {
                while (pos < str.length && str[pos] === str[start]) {
                    pos++;
                }
                sb.push('' + (pos - start) + str[start]);
                start = pos;
                console.log(sb);
            }
            str = sb.join('');
            console.log(str);
        }

        return str;
    };
    console.log(countAndSay(5));
</script>
</body>
</html>