<?php
//ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå…¶ä¸­æ°å¥½æœ‰ä¸¤ä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ï¼Œå…¶ä½™æ‰€æœ‰å…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚ æ‰¾å‡ºåªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸¤ä¸ªå…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆã€‚ 
//
// 
//
// è¿›é˜¶ï¼šä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ä½ èƒ½å¦ä»…ä½¿ç”¨å¸¸æ•°ç©ºé—´å¤æ‚åº¦æ¥å®ç°ï¼Ÿ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [1,2,1,3,2,5]
//è¾“å‡ºï¼š[3,5]
//è§£é‡Šï¼š[5, 3] ä¹Ÿæ˜¯æœ‰æ•ˆçš„ç­”æ¡ˆã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [-1,0]
//è¾“å‡ºï¼š[-1,0]
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [0,1]
//è¾“å‡ºï¼š[1,0]
// 
//
// æç¤ºï¼š 
//
// 
// 2 <= nums.length <= 3 * 10â´ 
// -2Â³Â¹ <= nums[i] <= 2Â³Â¹ - 1 
// é™¤ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•´æ•°å¤–ï¼Œnums ä¸­çš„å…¶ä»–æ•°å­—éƒ½å‡ºç°ä¸¤æ¬¡ 
// 
// Related Topics ä½è¿ç®— æ•°ç»„ ğŸ‘ 486 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution
{

    /**
     * @param Integer[] $nums
     *
     * @return Integer[]
     */
    function singleNumber($nums)
    {
        //ä¸€éå† hashè¡¨
        $arr = [];
        foreach ($nums as $k => $v) {
            if (!array_key_exists($v, $arr)) {
                $arr[$v] = 1;
            } else {
                $arr[$v] = 2;
            }
        }

        $res = [];

        foreach ($arr as $key => $item) {
            if ($item == 1) {
                array_push($res, $key);
            }
        }

        return $res;

        //ä½è¿ç®—
        /*
         *  æ—¶é—´å¤æ‚åº¦ï¼šO(n)O(n)ï¼Œå…¶ä¸­ nn æ˜¯æ•°ç»„ \textit{nums}nums çš„é•¿åº¦ã€‚
            ç©ºé—´å¤æ‚åº¦ï¼šO(1)O(1)ã€‚*/
        //é¢˜ä¸­ï¼šæœ‰ä¸¤ä¸ªä¸é‡å¤æ•°aï¼Œbã€‚æŠŠaï¼Œbåˆ†åˆ°ä¸¤ç»„å°±è½¬åŒ–æˆäº†æ¯ä¸ªæ•°ç»„åªæœ‰ä¸€ä¸ªä¸é‡å¤æ•°
        for ($i = 0, $a = 0; $i < count($nums); $i++) {
            $a ^= $nums[$i]; //ç›¸åŒçš„æ•° å¼‚æˆ–åçš„ç»“æœæ˜¯ 0; æœ€ç»ˆ$a æ˜¯aå’Œbçš„å¼‚æˆ–ç»“æœ
        }

        $k   = $a & (-$a); //æŒ‰ä½ä¸  äºŒè¿›åˆ¶ å…¨1ä¸º1ï¼Œå¦åˆ™ä¸º0 //$a å„ä½å–åï¼Œå†åŠ 1ã€‚ã€maskã€‘000 011ï¼Œ==ã€‹ ã€-maskã€‘111 101
        //ã€$aã€‘& ã€-$aã€‘===> $a ä¸º1çš„æœ€ä½ä½ï¼Œå…¶ä½™ä½æ˜¯0
        //å†å°† nums å’Œ$k ï¼Œä¸è¿ç®—åˆ†æˆä¸¤ç»„
        $res = [];
        foreach ($nums as $num) {
            if (($num & $k) == 0) {
                $res[0] ^= $num;
            } else {
                $res[1] ^= $num;
            }
        }

        return $res;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
