<?php
//æœ‰ä¸€å¹…ä»¥äºŒç»´æ•´æ•°æ•°ç»„è¡¨ç¤ºçš„å›¾ç”»ï¼Œæ¯ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºè¯¥å›¾ç”»çš„åƒç´ å€¼å¤§å°ï¼Œæ•°å€¼åœ¨ 0 åˆ° 65535 ä¹‹é—´ã€‚ 
//
// ç»™ä½ ä¸€ä¸ªåæ ‡ (sr, sc) è¡¨ç¤ºå›¾åƒæ¸²æŸ“å¼€å§‹çš„åƒç´ å€¼ï¼ˆè¡Œ ï¼Œåˆ—ï¼‰å’Œä¸€ä¸ªæ–°çš„é¢œè‰²å€¼ newColorï¼Œè®©ä½ é‡æ–°ä¸Šè‰²è¿™å¹…å›¾åƒã€‚ 
//
// ä¸ºäº†å®Œæˆä¸Šè‰²å·¥ä½œï¼Œä»Žåˆå§‹åæ ‡å¼€å§‹ï¼Œè®°å½•åˆå§‹åæ ‡çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šåƒç´ å€¼ä¸Žåˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿žåƒç´ ç‚¹ï¼ŒæŽ¥ç€å†è®°å½•è¿™å››ä¸ªæ–¹å‘ä¸Šç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹ä¸Žä»–ä»¬å¯¹åº”å››ä¸ªæ–¹
//å‘ä¸Šåƒç´ å€¼ä¸Žåˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿žåƒç´ ç‚¹ï¼Œâ€¦â€¦ï¼Œé‡å¤è¯¥è¿‡ç¨‹ã€‚å°†æ‰€æœ‰æœ‰è®°å½•çš„åƒç´ ç‚¹çš„é¢œè‰²å€¼æ”¹ä¸ºæ–°çš„é¢œè‰²å€¼ã€‚ 
//
// æœ€åŽè¿”å›žç»è¿‡ä¸Šè‰²æ¸²æŸ“åŽçš„å›¾åƒã€‚ 
//
// ç¤ºä¾‹ 1: 
//
// 
//è¾“å…¥: 
//image = [[1,1,1],[1,1,0],[1,0,1]]
//sr = 1, sc = 1, newColor = 2
//è¾“å‡º: [[2,2,2],[2,2,0],[2,0,1]]
//è§£æž: 
//åœ¨å›¾åƒçš„æ­£ä¸­é—´ï¼Œ(åæ ‡(sr,sc)=(1,1)),
//åœ¨è·¯å¾„ä¸Šæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹çš„é¢œè‰²éƒ½è¢«æ›´æ”¹æˆ2ã€‚
//æ³¨æ„ï¼Œå³ä¸‹è§’çš„åƒç´ æ²¡æœ‰æ›´æ”¹ä¸º2ï¼Œ
//å› ä¸ºå®ƒä¸æ˜¯åœ¨ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šä¸Žåˆå§‹ç‚¹ç›¸è¿žçš„åƒç´ ç‚¹ã€‚
// 
//
// æ³¨æ„: 
//
// 
// image å’Œ image[0] çš„é•¿åº¦åœ¨èŒƒå›´ [1, 50] å†…ã€‚ 
// ç»™å‡ºçš„åˆå§‹ç‚¹å°†æ»¡è¶³ 0 <= sr < image.length å’Œ 0 <= sc < image[0].lengthã€‚ 
// image[i][j] å’Œ newColor è¡¨ç¤ºçš„é¢œè‰²å€¼åœ¨èŒƒå›´ [0, 65535]å†…ã€‚ 
// 
// Related Topics æ·±åº¦ä¼˜å…ˆæœç´¢ å¹¿åº¦ä¼˜å…ˆæœç´¢ æ•°ç»„ çŸ©é˜µ ðŸ‘ 236 ðŸ‘Ž 0


//leetcode submit region begin(Prohibit modification and deletion)
class Solution
{

    /**
     * @param Integer[][] $image
     * @param Integer     $sr
     * @param Integer     $sc
     * @param Integer     $newColor
     *
     * @return Integer[][]
     */
    function floodFill(array $image, int $sr, int $sc, int $newColor): array
    {
        //æ·±åº¦ä¼˜å…ˆæœç´¢-å¹¿åº¦ä¼˜å…ˆæœç´¢
        $this->row         = count($image);//åˆ—
        $this->col         = count($image[0]); //è¡Œ
        $this->originColor = $image[$sr][$sc];//åŽŸå§‹é¢œè‰²

        if ($this->originColor == $newColor) {
            return $image;//å’ŒåŽŸæ¥çš„é¢œè‰²ç›¸åŒå°±ä¸ä¿®æ”¹,å¦åˆ™ç›¸åŒçš„é¢œè‰²å¯ä»¥ä¸€ç›´æ”¹,ä¼šæ­»å¾ªçŽ¯
        }
        $this->dfs($image, $sr, $sc, $newColor);
        return $image;
    }

    protected function dfs(&$image, $sr, $sc, $newColor)
    {
        //ä¸Šä¸‹å·¦å³å’ŒåŽŸå§‹é¢œè‰²ç›¸åŒçš„æ ¼å­å°±éœ€è¦è¢«æŸ“æˆæ–°é¢œè‰²
        if ($sr >= $this->row || $sr < 0 || $sc >= $this->col || $sc < 0 || $image[$sr][$sc] != $this->originColor) {
            return;
        }

        $image[$sr][$sc] = $newColor;

        $this->dfs($image, $sr + 1, $sc, $newColor);//å³
        $this->dfs($image, $sr - 1, $sc, $newColor);//å·¦
        $this->dfs($image, $sr, $sc + 1, $newColor);//ä¸‹
        $this->dfs($image, $sr, $sc - 1, $newColor);//ä¸Š
    }
}
//leetcode submit region end(Prohibit modification and deletion)
